<script src="../../jquery-1.11.3.min.js"></script>
<style>body { overflow-x:hidden }</style>

<input id="vid1input" value="7j3Gag35lo4" onkeyup="if (event.which===13) document.getElementById('vid1').src=querystart+this.value+queryend;"></input>
<input id="vid2input" value="7j3Gag35lo4" onkeyup="if (event.which===13) document.getElementById('vid2').src=querystart+this.value+queryend;"></input>
<table id="videos" width="100%" height="100%" style="overflow: hidden"><tr><td>
<iframe id="vid1" width="400" height="300" frameborder="0" src="http://www.youtube.com/embed/7j3Gag35lo4?enablejsapi=1&autohide=1"></iframe>
</td></tr><tr><td>
<iframe id="vid2" width="400" height="300" frameborder="0" src="http://www.youtube.com/embed/7j3Gag35lo4?enablejsapi=1"></iframe>
</td></tr></table>
<a id="play" href="#videos" onclick="playAll()";>Play Videos</a>
<script>
// QUERY SET UP
querystart = "http://www.youtube.com/embed/";
queryend = "?enablejsapi=1&autohide=1";

// PLAYING
function playAll(phase){
	allVideos.each(function(){
		if (phase)
			pause(this); 
		else
			play(this);
	});
	localStorage.setItem('id1',document.getElementById('vid1input').value);
	localStorage.setItem('id2',document.getElementById('vid2input').value);
}
function pause(iframe) {
	iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
}
function play(iframe) {
	iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
}

// LOAD VALUES
if (localStorage.getItem('id1') !== null) {
	document.getElementById('vid1input').value = localStorage.getItem('id1');
	document.getElementById('vid1input').onkeyup({which:13});
}
if (localStorage.getItem('id2') !== null) {
	document.getElementById('vid2input').value = localStorage.getItem('id2');
	document.getElementById('vid2input').onkeyup({which:13});
}

// RESIZE
allVideos = $("iframe[src^='http://www.youtube.com']"),
allVideos.each(function() {
	var me = $(this);
	me.data('aspectRatio', me.height() / me.width())
	.removeAttr('height')
	.removeAttr('width');
});

$(window).resize(function() {
	var w = window.innerWidth-20, h = window.innerHeight/2;
	allVideos.each(function() {
		el = $(this);
		if (w * el.data('aspectRatio') > h) {
			el.width(h/el.data('aspectRatio')).height(h);
		} else {
			el.width(w).height(w*el.data('aspectRatio'));
		}
	});
}).resize();
</script>