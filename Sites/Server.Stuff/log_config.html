<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<!--
        XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
              This file is generated from xml source: DO NOT EDIT
        XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
      -->
<title>mod_log_config - Apache HTTP Server Version 2.4</title>
<link href="./mod_log_config - Apache HTTP Server Version 2.4_files/manual.css" rel="stylesheet" media="all" type="text/css" title="Main stylesheet">
<link href="./mod_log_config - Apache HTTP Server Version 2.4_files/manual-loose-100pc.css" rel="alternate stylesheet" media="all" type="text/css" title="No Sidebar - Default font size">
<link href="./mod_log_config - Apache HTTP Server Version 2.4_files/manual-print.css" rel="stylesheet" media="print" type="text/css"><link rel="stylesheet" type="text/css" href="./mod_log_config - Apache HTTP Server Version 2.4_files/prettify.css">
<script src="./mod_log_config - Apache HTTP Server Version 2.4_files/prettify.min.js" type="text/javascript">
</script>

<link href="http://httpd.apache.org/docs/current/images/favicon.ico" rel="shortcut icon"><script type="text/javascript" async="" src="./mod_log_config - Apache HTTP Server Version 2.4_files/show_comments.lua"></script><script type="text/javascript" async="" src="./mod_log_config - Apache HTTP Server Version 2.4_files/builder.js"></script><link rel="stylesheet" type="text/css" href="./mod_log_config - Apache HTTP Server Version 2.4_files/basic.css"></head>
<body>
<div id="page-header">
<p class="menu"></p></div><div id="page-content"><div class="section"><table class="bordered"><tbody><tr class="header"><th>Format&nbsp;String</th>
        <th>Description</th></tr>
<tr><td><code>%%</code></td>
        <td>The percent sign.</td></tr>
<tr class="odd"><td><code>%a</code></td>
        <td>Client IP address of the request (see the
        <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_remoteip.html">mod_remoteip</a></code> module).</td></tr>
<tr><td><code>%{c}a</code></td>
        <td>Underlying peer IP address of the connection (see the
        <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_remoteip.html">mod_remoteip</a></code> module).</td></tr>
<tr class="odd"><td><code>%A</code></td>
        <td>Local IP-address.</td></tr>
<tr><td><code>%B</code></td>
        <td>Size of response in bytes, excluding HTTP headers.</td></tr>
<tr class="odd"><td><code>%b</code></td>
        <td>Size of response in bytes, excluding HTTP headers. In CLF format, <em>i.e.</em>
        a '<code>-</code>' rather than a 0 when no bytes are sent.</td></tr>
<tr><td><code>%{<var>VARNAME</var>}C</code></td>
        <td>The contents of cookie <var>VARNAME</var> in the request sent
        to the server. Only version 0 cookies are fully supported.</td></tr>
<tr class="odd"><td><code>%D</code></td>
        <td>The time taken to serve the request, in microseconds.</td></tr>
<tr><td><code>%{<var>VARNAME</var>}e</code></td>
        <td>The contents of the environment variable
        <var>VARNAME</var>.</td></tr>
<tr class="odd"><td><code>%f</code></td>
        <td>Filename.</td></tr>
<tr><td><code>%h</code></td>
        <td>Remote hostname. Will log the IP address if <code class="directive"><a href="http://httpd.apache.org/docs/current/mod/core.html#hostnamelookups">HostnameLookups</a></code> is set to
        <code>Off</code>, which is the default. If it logs the hostname
        for only a few hosts, you probably have access control
        directives mentioning them by name. See <a href="http://httpd.apache.org/docs/current/mod/mod_authz_host.html#reqhost">the Require host
        documentation</a>.</td></tr>
<tr class="odd"><td><code>%H</code></td>
        <td>The request protocol.</td></tr>
<tr><td><code>%{<var>VARNAME</var>}i</code></td>
        <td>The contents of <code><var>VARNAME</var>:</code> header line(s)
        in the request sent to the server. Changes made by other
        modules (e.g. <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_headers.html">mod_headers</a></code>) affect this.  If you're
        interested in what the request header was prior to when most
        modules would have modified it, use <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_setenvif.html">mod_setenvif</a></code>
        to copy the header into an internal environment variable and log
        that value with the <code>%{<var>VARNAME</var>}e</code> described
        above.
        </td></tr>
<tr class="odd"><td><code>%k</code></td>
        <td>Number of keepalive requests handled on this connection.  Interesting if
          <code class="directive"><a href="http://httpd.apache.org/docs/current/mod/core.html#keepalive">KeepAlive</a></code> is being used, so that,
          for example, a '1' means the first keepalive request after the initial
          one, '2' the second, etc...;
          otherwise this is always 0 (indicating the initial request).</td></tr>
<tr><td><code>%l</code></td>
        <td>Remote logname (from identd, if supplied). This will return a
        dash unless <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_ident.html">mod_ident</a></code> is present and <code class="directive"><a href="http://httpd.apache.org/docs/current/mod/mod_ident.html#identitycheck">IdentityCheck</a></code> is set
        <code>On</code>.</td></tr>
<tr class="odd"><td><code>%L</code></td>
        <td>The request log ID from the error log (or '-' if nothing has been
            logged to the error log for this request). Look for the
            matching error log line to see what request caused what error.</td></tr>
<tr><td><code>%m</code></td>
        <td>The request method.</td></tr>
<tr class="odd"><td><code>%{<var>VARNAME</var>}n</code></td>
        <td>The contents of note <var>VARNAME</var> from another
        module.</td></tr>
<tr><td><code>%{<var>VARNAME</var>}o</code></td>
        <td>The contents of <code><var>VARNAME</var>:</code> header line(s)
        in the reply.</td></tr>
<tr class="odd"><td><code>%p</code></td>
        <td>The canonical port of the server serving the request.</td></tr>
<tr><td><code>%{<var>format</var>}p</code></td>
        <td>The canonical port of the server serving the request, or the
        server's actual port, or the client's actual port. Valid formats
        are <code>canonical</code>, <code>local</code>, or <code>remote</code>.
        </td></tr>
<tr class="odd"><td><code>%P</code></td>
        <td>The process ID of the child that serviced the request.</td></tr>
<tr><td><code>%{<var>format</var>}P</code></td>
        <td>The process ID or thread ID of the child that serviced the
        request.  Valid formats are <code>pid</code>, <code>tid</code>,
        and <code>hextid</code>.  <code>hextid</code> requires APR 1.2.0 or
        higher.
        </td></tr>
<tr class="odd"><td><code>%q</code></td>
        <td>The query string (prepended with a <code>?</code> if a query
        string exists, otherwise an empty string).</td></tr>
<tr><td><code>%r</code></td>
        <td>First line of request.</td></tr>
<tr class="odd"><td><code>%R</code></td>
        <td>The handler generating the response (if any).</td></tr>
<tr><td><code>%s</code></td>
        <td>Status. For requests that have been internally redirected, this is
        the status of the <em>original</em> request. Use <code>%&gt;s</code>
        for the final status.</td></tr>
<tr class="odd"><td><code>%t</code></td>
        <td>Time the request was received, in the format <code>[18/Sep/2011:19:18:28 -0400]</code>.
        The last number indicates the timezone offset from GMT</td></tr>
<tr><td><code>%{<var>format</var>}t</code></td>
        <td>The time, in the form given by format, which should be in
        an extended <code>strftime(3)</code> format (potentially localized).
        If the format starts with <code>begin:</code> (default) the time is taken
        at the beginning of the request processing. If it starts with
        <code>end:</code> it is the time when the log entry gets written,
        close to the end of the request processing. In addition to the formats
        supported by <code>strftime(3)</code>, the following format tokens are
        supported:
        <table>
        <tbody><tr><td><code>sec</code></td><td>number of seconds since the Epoch</td></tr>
        <tr><td><code>msec</code></td><td>number of milliseconds since the Epoch</td></tr>
        <tr><td><code>usec</code></td><td>number of microseconds since the Epoch</td></tr>
        <tr><td><code>msec_frac</code></td><td>millisecond fraction</td></tr>
        <tr><td><code>usec_frac</code></td><td>microsecond fraction</td></tr>
        </tbody></table>
        These tokens can not be combined with each other or <code>strftime(3)</code>
        formatting in the same format string. You can use multiple
        <code>%{<var>format</var>}t</code> tokens instead.
        </td></tr>
<tr class="odd"><td><code>%T</code></td>
        <td>The time taken to serve the request, in seconds.</td></tr>
<tr><td><code>%{<var>UNIT</var>}T</code></td>
        <td>The time taken to serve the request, in a time unit given by
        <code>UNIT</code>. Valid units are <code>ms</code> for milliseconds,
        <code>us</code> for microseconds, and <code>s</code> for seconds.
        Using <code>s</code> gives the same result as <code>%T</code>
        without any format; using <code>us</code> gives the same result
        as <code>%D</code>. Combining <code>%T</code> with a unit is
        available in 2.4.13 and later.</td></tr>
<tr class="odd"><td><code>%u</code></td>
        <td>Remote user if the request was authenticated. May be bogus if return status
        (<code>%s</code>) is 401 (unauthorized).</td></tr>
<tr><td><code>%U</code></td>
        <td>The URL path requested, not including any query string.</td></tr>
<tr class="odd"><td><code>%v</code></td>
        <td>The canonical <code class="directive"><a href="http://httpd.apache.org/docs/current/mod/core.html#servername">ServerName</a></code>
        of the server serving the request.</td></tr>
<tr><td><code>%V</code></td>
        <td>The server name according to the <code class="directive"><a href="http://httpd.apache.org/docs/current/mod/core.html#usecanonicalname">UseCanonicalName</a></code> setting.</td></tr>
<tr class="odd"><td><code>%X</code></td>
        <td>Connection status when response is completed:

        <table>
        
        <tbody><tr><td><code>X</code> =</td>
            <td>Connection aborted before the response completed.</td></tr>
        <tr><td><code>+</code> =</td>
            <td>Connection may be kept alive after the response is
            sent.</td></tr>
        <tr><td><code>-</code> = </td>
            <td>Connection will be closed after the response is
            sent.</td></tr>
        </tbody></table>

        </td></tr>
<tr><td><code>%I</code></td>
        <td>Bytes received, including request and headers. Cannot be zero.
        You need to enable <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_logio.html">mod_logio</a></code> to use this.</td></tr>
<tr class="odd"><td><code>%O</code></td>
        <td>Bytes sent, including headers. May be zero in rare cases
        such as when a request is aborted before a response is sent.
        You need to enable <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_logio.html">mod_logio</a></code> to use this.</td></tr>
<tr><td><code>%S</code></td>
        <td>Bytes transferred (received and sent), including request and headers,
        cannot be zero. This is the combination of %I and %O. You need to
        enable <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_logio.html">mod_logio</a></code> to use this.</td></tr>
<tr class="odd"><td><code>%{<var>VARNAME</var>}^ti</code></td>
        <td>The contents of <code><var>VARNAME</var>:</code> trailer line(s)
        in the request sent to the server.  </td></tr>
<tr><td><code>%{<var>VARNAME</var>}^to</code></td>
        <td>The contents of <code><var>VARNAME</var>:</code> trailer line(s)
        in the response sent from the server.  </td></tr>
</tbody></table>

    <h3><a name="modifiers" id="modifiers">Modifiers</a></h3>

      <p>Particular items can be restricted to print only for
      responses with specific HTTP status codes by placing a
      comma-separated list of status codes immediately following the
      "%". The status code list may be preceded by a "<code>!</code>" to
      indicate negation.</p>

    <table class="bordered"><tbody><tr class="header"><th>Format String</th>
    <th>Meaning</th></tr>
<tr>
    <td><code>%400,501{User-agent}i</code></td>
    <td>Logs <code>User-agent</code> on 400 errors and 501 errors only. For
      other status codes, the literal string <code>"-"</code> will be
      logged.</td></tr>
<tr class="odd"><td><code>%!200,304,302{Referer}i</code></td>
    <td>Logs <code>Referer</code> on all requests that do
    <em>not</em> return one of the three specified codes,
    "<code>-</code>" otherwise.
    </td></tr>
</tbody></table>

      <p>The modifiers "&lt;" and "&gt;" can be used for requests that
      have been internally redirected to choose whether the original
      or final (respectively) request should be consulted.  By
      default, the <code>%</code> directives <code>%s, %U, %T,
      %D,</code> and <code>%r</code> look at the original request
      while all others look at the final request.  So for example,
      <code>%&gt;s</code> can be used to record the final status of
      the request and <code>%&lt;u</code> can be used to record the
      original authenticated user on a request that is internally
      redirected to an unauthenticated resource.</p>

    

    <h3><a name="format-notes" id="format-notes">Format Notes</a></h3>

      <p>For security reasons, starting with version 2.0.46,
      non-printable and other special characters in <code>%r</code>,
      <code>%i</code> and <code>%o</code> are escaped using
      <code>\x<var>hh</var></code> sequences, where <var>hh</var>
      stands for the hexadecimal representation of the raw
      byte. Exceptions from this rule are <code>"</code> and
      <code>\</code>, which are escaped by prepending a backslash, and
      all whitespace characters, which are written in their C-style
      notation (<code>\n</code>, <code>\t</code>, etc).  In versions
      prior to 2.0.46, no escaping was performed on these strings so
      you had to be quite careful when dealing with raw log files.</p>

      <p>Since httpd 2.0, unlike 1.3, the <code>%b</code> and
      <code>%B</code> format strings do not represent the number of
      bytes sent to the client, but simply the size in bytes of the
      HTTP response (which will differ, for instance, if the
      connection is aborted, or if SSL is used).  The <code>%O</code>
      format provided by <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_logio.html">mod_logio</a></code> will log the
      actual number of bytes sent over the network.</p>

      <div class="note">
      <p>Note: <code class="module"><a href="http://httpd.apache.org/docs/current/mod/mod_cache.html">mod_cache</a></code> is implemented as a
      quick-handler and not as a standard handler. Therefore, the
      <code>%R</code> format string will not return any handler
      information when content caching is involved.</p>
      </div>

    

    <h3><a name="examples" id="examples">Examples</a></h3>

      <p>Some commonly used log format strings are:</p>

      <dl>
        <dt>Common Log Format (CLF)</dt>
        <dd><code>"%h %l %u %t \"%r\" %&gt;s %b"</code></dd>

        <dt>Common Log Format with Virtual Host</dt>
        <dd><code>"%v %h %l %u %t \"%r\" %&gt;s %b"</code></dd>

        <dt>NCSA extended/combined log format</dt>
        <dd><code>"%h %l %u %t \"%r\" %&gt;s %b \"%{Referer}i\"
        \"%{User-agent}i\""</code></dd>

        <dt>Referer log format</dt>
        <dd><code>"%{Referer}i -&gt; %U"</code></dd>

        <dt>Agent (Browser) log format</dt>
        <dd><code>"%{User-agent}i"</code></dd>
      </dl>

      <p>You can use the <code>%{format}t</code> directive multiple
      times to build up a time format using the extended format tokens
      like <code>msec_frac</code>:</p>
      <dl>
<dt>Timestamp including milliseconds</dt>
<dd><code>"%{%d/%b/%Y %T}t.%{msec_frac}t %{%z}t"</code></dd></dl></div></div><div id="footer"></div><script type="text/javascript"><!--//--><![CDATA[//><!--
if (typeof(prettyPrint) !== 'undefined') {
    prettyPrint();
}
//--><!]]></script>
</body></html>